//===== rAthena Script =======================================
//= BattleGround Expansion - Entrada do Desfiladeiro de Tierra
//===== Por: =================================================
//= RomuloSM (sbk_)
//===== Versão Atual: ========================================
//= 1.0
//===== Compátivel com: ======================================
//= rAthena RSM Mod
//===== Descrição: ===========================================
//= NPCs da Entrada do Desfiladeiro de Tierra.
//===== Comentários Adicional: ===============================
//= 1.0 Primeira versão.[RomuloSM]
//===== Contato: =============================================
//= Email: romulodevel@gmail.com
//= Facebook: https://www.facebook.com/RomuloDevel
//============================================================

// First Tierra Gorge Officers - Guillaume
//============================================================
bat_room,124,178,5	script	Oficial de Tierra#01a	418,{
	if (getbattleflag("feature.bgqueue"))
		end;
	if (checkweight(1201,1) == 0) {
		mes "- Espere aí um minuto! -";
		mes "- Atualmente você está -";
		mes "- carregando itens demais. -";
		mes "- Por favor tente novamente após -";
		mes "- você descarregar um pouco do peso. -";
		close;
	}
	mes "[Oficial do Exército Guillaume]";
	mes "Vamos mostrar todo o poder do Exército de Guillaume para aqueles Croixs fedorentos!";
	next;
	switch(select("Eu quero me juntar ao seu exército!:Terminar a conversa.")) {
	case 1:
		if ((BaseJob == Job_Novice) || (BaseJob == Job_Super_Novice)) {
			mes "[Oficial do Exército Guillaume]";
			mes "Eu estou muito honrado que você queira se juntar para lutar contra o exército Croix mas, eu sinto muito! Eu não posso mandar um novato como você para morrer cruelmente no campo de batalha.";
		}
		else {
			if (($@TierraBG1_MinBaseLevel && BaseLevel < $@TierraBG1_MinBaseLevel) || ($@TierraBG1_MaxBaseLevel && BaseLevel > $@TierraBG1_MaxBaseLevel)) {
				mes "[Oficial do Exército Guillaume]";
				mes "Eu estou muito honrado que você queira se juntar para lutar contra o exército Croix mas, eu sinto muito! Eu não posso mandar um novato como você para morrer cruelmente no campo de batalha.";
			}
			else {
				set .@chk_urtime,checkquest(2069,PLAYTIME);
				if ((.@chk_urtime == 0)|| (.@chk_urtime == 1)) {
					mes "[Oficial do Exército Guillaume]";
					mes "Me parece que você acabou de voltar do campo de batalha.";
					mes "Então é muito cedo pra você retornar. Vá descansar um pouco e deixe os inimigos conosco!";
				}
				else {
					if (.@chk_urtime == 2)
						erasequest 2069;
					set .@mapcount,getmapusers("bat_a01");
					if (.@mapcount > 0) {
						mes "[Oficial do Exército Guillaume]";
						mes "Eu recebi um comunidado informando que uma unidade do batalhão já foi despachada para o campo de batalha e está enfrentando os Croixs no momento.";
						mes "Por que você não espera um instante? Eu aconselho você a afiar suas armas e preparar seus suprimentos até a hora da batalha.";
					}
					else {
						if ($@TierraBG1) {
							mes "[Oficial do Exército Guillaume]";
							mes "Uma unidade do batalhão já está preparada e esperando ser despachada ao campo de batalha.";
							mes "Por que você não espera um instante? Eu aconselho você a afiar suas armas e preparar seus suprimentos até a hora da batalha.";
						}
						else {
							mes "[Oficial do Exército Guillaume]";
							mes "Certamente você já está preparado para a batalha!";
							mes "Vá e mostre aos Croixs o significado da palavra medo!";
							mes "Hoje nosso grito de vitória deverá ser entoado por todo campo de batalha!";
							close2;
							warp "bat_room",57,223;
							end;
						}
					}
				}
			}
		}
		break;
	case 2:
		mes "[Oficial do Exército Guillaume]";
		mes "Hoje nós sairemos vencedores!";
		break;
	}
	close;
}

bat_room,140,178,5	script	Oficial de Tierra#02a	418,{
	if (getbattleflag("feature.bgqueue"))
		end;
	if (checkweight(1201,1) == 0) {
		mes "- Espere aí um minuto! -";
		mes "- Atualmente você está -";
		mes "- carregando itens demais. -";
		mes "- Por favor tente novamente após -";
		mes "- você descarregar um pouco do peso. -";
		close;
	}
	mes "[Oficial do Exército Guillaume]";
	mes "Vamos mostrar todo o poder do Exército de Guillaume para aqueles Croixs fedorentos!";
	next;
	switch(select("Eu quero me juntar ao seu exército!:Terminar a conversa.")) {
	case 1:
		if ((BaseJob == Job_Novice) || (BaseJob == Job_Super_Novice)) {
			mes "[Oficial do Exército Guillaume]";
			mes "Eu estou muito honrado que você queira se juntar para lutar contra o exército Croix mas, eu sinto muito! Eu não posso mandar um novato como você para morrer cruelmente no campo de batalha.";
		}
		else {
			if (($@TierraBG2_MinBaseLevel && BaseLevel < $@TierraBG2_MinBaseLevel) || ($@TierraBG2_MaxBaseLevel && BaseLevel > $@TierraBG2_MaxBaseLevel)) {
				mes "[Oficial do Exército Guillaume]";
				mes "Eu estou muito honrado que você queira se juntar para lutar contra o exército Croix mas, eu sinto muito! Eu não posso mandar um novato como você para morrer cruelmente no campo de batalha.";
			}
			else {
				set .@chk_urtime,checkquest(2069,PLAYTIME);
				if (.@chk_urtime == 1) {
					mes "[Oficial do Exército Guillaume]";
					mes "Me parece que você acabou de voltar do campo de batalha.";
					mes "Então é muito cedo pra você retornar. Vá descansar um pouco e deixe os inimigos conosco!";
				}
				else {
					if (.@chk_urtime == 2)
						erasequest 2069;
					set .@mapcount,getmapusers("bat_a02");
					if (.@mapcount > 0) {
						mes "[Oficial do Exército Guillaume]";
						mes "Eu recebi um comunidado informando que uma unidade do batalhão já foi despachada para o campo de batalha e está enfrentando os Croixs no momento.";
						mes "Por que você não espera um instante? Eu aconselho você a afiar suas armas e preparar seus suprimentos até a hora da batalha.";
					}
					else {
						if ($@TierraBG2) {
							mes "[Oficial do Exército Guillaume]";
							mes "Uma unidade do batalhão já está preparada e esperando ser despachada ao campo de batalha.";
							mes "Por que você não espera um instante? Eu aconselho você a afiar suas armas e preparar seus suprimentos até a hora da batalha.";
						}
						else {
							mes "[Oficial do Exército Guillaume]";
							mes "Certamente você já está preparado para a batalha!";
							mes "Vá e mostre aos Croixs o significado da palavra medo!";
							mes "Hoje nosso grito de vitória deverá ser entoado por todo campo de batalha!";
							close2;
							warp "bat_room",114,223;
							end;
						}
					}
				}
			}
		}
		break;
	case 2:
		mes "[Oficial do Exército Guillaume]";
		mes "Hoje nós sairemos vencedores!";
		break;
	}
	close;
}

bat_room,127,178,5	script	Cavaleiro de Guillaume#1	417,{
	mes "[Cavaleiro de Guillaume]";
	mes "O Desfiladeiro de Tierra consiste em uma divisão de dois íngremes lados dispostos verticalmente e divididos horizontalmente e, em cada um dos lados há um depósito de suprimentos, tanto para os Guillaumes quanto para os Croixs nas direções Noroeste e Sudoeste respectivamente.";
	next;
	mes "[Cavaleiro de Guillaume]";
	mes "A batalha começa dentro do navio de seu exército e, o objetivo é avançar e destruir todos os suprimentos do depósito inimigo antes que ele destrua o seu.";
	next;
	mes "[Cavaleiro de Guillaume]";
	mes "O curandeiro do campo de batalha irá ressuscitar os soldados a cada 25 segundos para que eles possam voltar a batalhar.";
	mes "O exército que capturar a bandeira neutra no centro do Desfiladeiro será recompensado com pontos de regeneraçãp extras, significando que seus soldados irão ser ressuscitados mais que os do outro lado, dando assim alguma vantagem.";
	next;
	mes "[Cavaleiro de Guillaume]";
	mes "Estes dois depósitos de suprimentos estão conectados um ao outro por pequenos e estreitos caminhos mas, os portões estão bloqueados com barricadas.";
	mes "Pense e se mova o mais rápido que pode. A vitória do exército aliado depende muito de sua contribuição.";
	next;
	mes "[Cavaleiro de Guillaume]";
	if (getbattleflag("feature.bgqueue"))
		mes "Se você estiver pronto, clique no ^0000FFbotão de batalha em sua interface^000000.";
	else {
		mes "Por favor, lembre-se: quando você entra em uma batalha você receberá um sinal que indica o período de duração pelo qual você não poderá participar de um mesmo tipo de batalha.";
		mes "Você poderá checar esta duração pressionando os botões Alt+U.";
	}
	next;
	mes "[Cavaleiro de Guillaume]";
	if (getbattleflag("feature.bgqueue"))
		mes "Lembre-se de que, depois de cancelar, ^0000FFvocê não poderá se inscrever novamente por 1 minuto^000000!";
	else
		mes "Você está pronto para a batalha? Inscreva-se com o recrutador ao meu lado!";
	close;
}

bat_room,143,178,5	duplicate(Cavaleiro de Guillaume#1)	Cavaleiro de Guillaume#2	417

bat_room,127,121,1	script	Cavaleiro de Croix#1	413,{
	mes "[Cavaleiro de Croix]";
	mes "O Desfiladeiro de Tierra consiste em uma divisão de dois íngremes lados dispostos verticalmente e divididos horizontalmente e, em cada um dos lados há um depósito de suprimentos, tanto para os Guillaumes quanto para os Croixs nas direções Noroeste e Sudoeste respectivamente.";
	next;
	mes "[Cavaleiro de Croix]";
	mes "A batalha começa dentro do navio de seu exército e, o objetivo é avançar e destruir todos os suprimentos do depósito inimigo antes que ele destrua o seu.";
	next;
	mes "[Cavaleiro de Croix]";
	mes "O curandeiro do campo de batalha irá ressuscitar os soldados a cada 25 segundos para que eles possam voltar a batalhar.";
	mes "O exército que capturar a bandeira neutra no centro do Desfiladeiro será recompensado com pontos de regeneraçãp extras, significando que seus soldados irão ser ressuscitados mais que os do outro lado, dando assim alguma vantagem.";
	next;
	mes "[Cavaleiro de Croix]";
	mes "Estes dois depósitos de suprimentos estão conectados um ao outro por pequenos e estreitos caminhos mas, os portões estão bloqueados com barricadas.";
	mes "Pense e se mova o mais rápido que pode. A vitória do exército aliado depende muito de sua contribuição.";
	next;
	mes "[Cavaleiro de Croixt]";
	if (getbattleflag("feature.bgqueue"))
		mes "Se você estiver pronto, clique no ^0000FFbotão de batalha em sua interface^000000.";
	else {
		mes "Por favor, lembre-se: quando você entra em uma batalha você receberá um sinal que indica o período de duração pelo qual você não poderá participar de um mesmo tipo de batalha.";
		mes "Você poderá checar esta duração pressionando os botões Alt+U.";
	}
	next;
	mes "[Cavaleiro de Croix]";
	if (getbattleflag("feature.bgqueue"))
		mes "Lembre-se de que, depois de cancelar, ^0000FFvocê não poderá se inscrever novamente por 1 minuto^000000!";
	else
		mes "Você está pronto para a batalha? Inscreva-se com o recrutador ao meu lado!";
	close;
}

bat_room,143,121,1	duplicate(Cavaleiro de Croix#1)	Cavaleiro de Croix#2	413

// Second Oficial de Tierras - Croix
//============================================================
bat_room,125,121,1	script	Oficial de Tierra#01b	414,{
	if (getbattleflag("feature.bgqueue"))
		end;
	if (checkweight(1201,1) == 0) {
		mes "- Espere aí um minuto! -";
		mes "- Atualmente você está -";
		mes "- carregando itens demais. -";
		mes "- Por favor tente novamente após -";
		mes "- você descarregar um pouco do peso. -";
		close;
	}
	mes "[Oficial do Exército Croix]";
	mes "Vamos mostrar todo o poder do Exército de Guillaume para aqueles Croixs fedorentos!";
	next;
	switch(select("Eu quero me juntar ao seu exército!:Terminar a conversa.")) {
	case 1:
		if ((BaseJob == Job_Novice) || (BaseJob == Job_Super_Novice)) {
			mes "[Oficial do Exército Croix]";
			mes "Eu estou muito honrado que você queira se juntar para lutar contra o exército Guillaume mas, eu sinto muito! Eu não posso mandar um novato como você para morrer cruelmente no campo de batalha.";
		}
		else {
			if (($@TierraBG1_MinBaseLevel && BaseLevel < $@TierraBG1_MinBaseLevel) || ($@TierraBG1_MaxBaseLevel && BaseLevel > $@TierraBG1_MaxBaseLevel)) {
				mes "[Oficial do Exército Croix]";
				mes "Eu estou muito honrado que você queira se juntar para lutar contra o exército Guillaume mas, eu sinto muito! Eu não posso mandar um novato como você para morrer cruelmente no campo de batalha.";
			}
			else {
				set .@chk_urtime,checkquest(2069,PLAYTIME);
				if ((.@chk_urtime == 0)|| (.@chk_urtime == 1)) {
					mes "[Oficial do Exército Croix]";
					mes "Me parece que você acabou de voltar do campo de batalha.";
					mes "Então é muito cedo pra você retornar. Vá descansar um pouco e deixe os inimigos conosco!";
				}
				else {
					if (.@chk_urtime == 2)
						erasequest 2069;
					set .@mapcount,getmapusers("bat_a02");
					if (.@mapcount > 0) {
						mes "[Oficial do Exército Croix]";
						mes "Eu recebi um comunidado informando que uma unidade do batalhão já foi despachada para o campo de batalha e está enfrentando os Guillaumes no momento.";
						mes "Por que você não espera um instante? Eu aconselho você a afiar suas armas e preparar seus suprimentos até a hora da batalha.";
					}
					else {
						if ($@TierraBG1) {
							mes "[Oficial do Exército Croix]";
							mes "Uma unidade do batalhão já está preparada e esperando ser despachada ao campo de batalha.";
							mes "Por que você não espera um instante? Eu aconselho você a afiar suas armas e preparar seus suprimentos até a hora da batalha.";
						}
						else {
							mes "[Oficial do Exército Croix]";
							mes "Certamente você já está preparado para a batalha!";
							mes "Vá e mostre aos Guillaumes o significado da palavra medo!";
							mes "Hoje nosso grito de vitória deverá ser entoado por todo campo de batalha!";
							close2;
							warp "bat_room",57,207;
							end;
						}
					}
				}
			}
		}
		break;
	case 2:
		mes "[Oficial do Exército Croix]";
		mes "Hoje nós sairemos vencedores!";
		break;
	}
	close;
}

bat_room,140,121,1	script	Oficial de Tierra#02b	414,{
	if (getbattleflag("feature.bgqueue"))
		end;
	if (checkweight(1201,1) == 0) {
		mes "- Espere aí um minuto! -";
		mes "- Atualmente você está -";
		mes "- carregando itens demais. -";
		mes "- Por favor tente novamente após -";
		mes "- você descarregar um pouco do peso. -";
		close;
	}
	mes "[Oficial do Exército Croix]";
	mes "Vamos mostrar todo o poder do Exército de Guillaume para aqueles Croixs fedorentos!";
	next;
	switch(select("Eu quero me juntar ao seu exército!:Terminar a conversa.")) {
	case 1:
		if ((BaseJob == Job_Novice) || (BaseJob == Job_Super_Novice)) {
			mes "[Oficial do Exército Croix]";
			mes "Eu estou muito honrado que você queira se juntar para lutar contra o exército Guillaume mas, eu sinto muito! Eu não posso mandar um novato como você para morrer cruelmente no campo de batalha.";
		}
		else {
			if (($@TierraBG2_MinBaseLevel && BaseLevel < $@TierraBG2_MinBaseLevel) || ($@TierraBG2_MaxBaseLevel && BaseLevel > $@TierraBG2_MaxBaseLevel)) {
				mes "[Oficial do Exército Croix]";
				mes "Eu estou muito honrado que você queira se juntar para lutar contra o exército Guillaume mas, eu sinto muito! Eu não posso mandar um novato como você para morrer cruelmente no campo de batalha.";
			}
			else {
				set .@chk_urtime,checkquest(2069,PLAYTIME);
				if (.@chk_urtime == 1) {
					mes "[Oficial do Exército Croix]";
					mes "Me parece que você acabou de voltar do campo de batalha.";
					mes "Então é muito cedo pra você retornar. Vá descansar um pouco e deixe os inimigos conosco!";
				}
				else {
					if (.@chk_urtime == 2)
						erasequest 2069;
					set .@mapcount,getmapusers("bat_a02");
					if (.@mapcount > 0) {
						mes "[Oficial do Exército Croix]";
						mes "Eu recebi um comunidado informando que uma unidade do batalhão já foi despachada para o campo de batalha e está enfrentando os Guillaumes no momento.";
						mes "Por que você não espera um instante? Eu aconselho você a afiar suas armas e preparar seus suprimentos até a hora da batalha.";
					}
					else {
						if ($@TierraBG2) {
							mes "[Oficial do Exército Croix]";
							mes "Uma unidade do batalhão já está preparada e esperando ser despachada ao campo de batalha.";
							mes "Por que você não espera um instante? Eu aconselho você a afiar suas armas e preparar seus suprimentos até a hora da batalha.";
						}
						else {
							mes "[Oficial do Exército Croix]";
							mes "Certamente você já está preparado para a batalha!";
							mes "Vá e mostre aos Guillaumes o significado da palavra medo!";
							mes "Hoje nosso grito de vitória deverá ser entoado por todo campo de batalha!";
							close2;
							warp "bat_room",114,207;
							end;
						}
					}
				}
			}
		}
		break;
	case 2:
		mes "[Oficial do Exército Croix]";
		mes "Hoje nós sairemos vencedores!";
		break;
	}
	close;
}

//===== rAthena Script =======================================
//= BattleGround System - Tierra Gorge Entrance NPCs
//===== Description: =========================================
//= [Official Conversion]
//= Tierra Gorge Battleground Entrance NPCs
//===== Additional Comments: =================================
//= 1.0 First Version. [L0ne_W0lf]
//= 1.1 Fixed silly copy paste errors. (bugreport:4401)
//= 1.2 Added battle_config checks to allow this script to use the new queue interface or the previous method. [Aleos]
//============================================================